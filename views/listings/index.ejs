<% layout("/layouts/boilerplate") %>

<style>

#filters{
    display: flex;
    flex-wrap: wrap;
    align-items: center;
}

.filter{
    text-align: center;
    margin-right: 2rem;
    margin-top: 2rem;
    opacity: 0.7;
   
}


.filter:hover{

    opacity: 1;
    cursor: pointer;

}

.filter p {
    font-size: 0.8rem;
}

.taxinfo{
    display: none;
}

.tax-toggle{
    border: 1px solid black;
    border-radius: 1rem;
    height: 3.2rem;
    padding: 1rem;
    margin-left: 4rem;
    display: flex;
    align-items: center;
}

</style>


<div id="filters" class="mb-4 ms-3">
    <div class="filter">
      <div> <i class="fa-solid fa-fire"></i></div>
        <p>Trending</p>
    </div>
    <div class="filter">
        <div> <i class="fa-solid fa-bed"></i></div>
          <p>Rooms</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-mountain-city"></i> </div>
             <p>iconic city</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-mountain"></i></div>
          <p>Mountain</p>
      </div>
      <div class="filter">
        <div><i class="fa-brands fa-fort-awesome"></i></div>
          <p>castles</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-water-ladder"></i></div>
          <p>Swimming</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-bowl-food"></i></div>
          <p>Food</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-tent"></i></div>
          <p>camping</p>
      </div>
      <div class="filter">
        <div><i class="fa-solid fa-cow"></i></div>
          <p>farms</p>
      </div>
      <!-- <div class="filter">
        <div><i class="fa-solid fa-snowflake"></i></div>
          <p>Arctic</p>
      </div>
       -->

       <div class="filter">
        <div><i class="fa-solid fa-igloo"></i></div>
          <p>Domes</p>
      </div>



      <div class="tax-toggle">
        <div class="form-check-reverse form-switch">
            <input class="form-check-input" 
            type="checkbox" role="switch" 

            id="flexSwitchCheckDefault">
            <label class="form-check-label" 
            for="flexSwitchCheckDefault">Display Total after taxes
        </label>
          </div>
      </div>
      
</div>

 <div class="container mt-3">
  <div class="row">
      <% for(let listing of allListings) { %>
            <div class="col-lg-3 col-md-6 col-sm-12 mb-4"> <!-- Responsive column sizes -->
            <a href="/listings/<%=listing._id %>" class="listing-link">
              <div class="card">
                  <img src="<%= listing.image.url%>" class="card-img-top" alt="listingimage">
                  <div class="card-img-overlay"></div>
                  <div class="card-body">
                      <p class="card-text">
                          <%= listing.title %> <br>
                          &#8377; <%= listing.price.toLocaleString("en-IN") %> /night
                          <i class="taxinfo"> &nbsp; &nbsp; +18% GST</i>
                        </p>
                  </div>
              </div>
              </a>
          </div>
          
      <% } %>
  </div>
</div>






<script>
    let taxSwitch = document.getElementById("flexSwitchCheckDefault");
    taxSwitch.addEventListener("click" , () =>{
        let taxinfo = document.getElementsByClassName("taxinfo") 
        for(info of taxinfo){
            if(info.style.display != "inline")
        {
            info.style.display = "inLine";
        }

        else{
            info.style.display = "none"
        }
    
        }
    } )
</script>